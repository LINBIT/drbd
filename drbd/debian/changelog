drbd (0.7-pre8-2) unstable; urgency=low
  
  * fix up the modules source package
  
 -- Bernd Schubert <bernd-schubert@web.de>  Mon,  05 Jul 2004 00:57:38 -0100  

drbd (0.7-pre8-1) unstable; urgency=low
  
  * initial 0.7 debian package
  
 -- Bernd Schubert <bernd-schubert@web.de>  Mon,  21 Jun 2004 19:57:38 -0400  

drbd (0.6.12-5) unstable; urgency=low
  
  * Changed default drbd.conf file to set a negative inittimeout value and
    updated the README.Debian file to reflect this change.  
    (Closes Bug#221751)
  
 -- David Krovich <dkrovich@csee.wvu.edu>  Tue, 25 May 2004 12:51:15 -0400

drbd (0.6.12-4) unstable; urgency=low
  
  * Refactored rules file in an attempt to use binary-arch and binary-indep 
    targets more wisely. This is an attempt to fix Bug#244392.  
  * Listed /etc/ha.d/resource.d/drbd in debian/conffiles.  (Closes Bug#247606)
  * Moved drbdsetup from /usr/bin/ to /usr/sbin.  I think I introduced this
    when I overhauled the debian directory in the 0.6.12-1 release.  
    (Closes Bug#247607)
  
 -- David Krovich <dkrovich@csee.wvu.edu>  Sun, 16 May 2004 15:20:59 -0400  

drbd (0.6.12-3) unstable; urgency=low
  
  * After discussing with upstream, tweak /etc/init.d/drbd script so the
    stop target works if the module is not loaded.  (Closes: Bug#243417)
  * Put the drbd script in the /etc/ha.d/resource.d directory.  (Closes: Bug#245219)
  
 -- David Krovich <dkrovich@csee.wvu.edu>  Thu, 22 Apr 2004 18:12:47 -0400

drbd (0.6.12-2) unstable; urgency=low
  
  * Create /dev/nb[0-7] devices in postinst script.  (Closes: Bug#221545)
  
 -- David Krovich <dkrovich@csee.wvu.edu>  Sat, 17 Apr 2004 15:18:29 -0400
  
drbd (0.6.12-1) unstable; urgency=low
  
  * new upstream release.  (Closes: Bug#239804)
  * Completely overhauled the debian/ directory.  
  * Changed sequence number in the runlevel to start at 70 and stop
    at 08.  drbd should start after things like ssh, but before
    heartbeat.

 -- David Krovich <dkrovich@csee.wvu.edu>  Mon, 22 Mar 2004 00:04:35 -0500

	
drbd (0.6.10-3) unstable; urgency=low
  * Added back the drbd.postinst, drbd.postrm, and drbd.prerm scripts until
    I figure out why they aren't being handled by dh_installinit.  
  * As of drbd-0.6.9, The drbd module no longer builds against just the 
    kernel-headers package and now needs a full kernel-source tree.

 -- David Krovich <dkrovich@csee.wvu.edu>  Mon, 26 Jan 2004 00:32:49 -0500  
  
drbd (0.6.10-2) unstable; urgency=low

  * noel: fixed lintian warning:
    W: drbd: package-contains-CVS-dir usr/share/doc/drbd/HOWTO/CVS/
    W: drbd: script-in-etc-init.d-not-registered-via-update-rc.d /etc/init.d/drbd

  * Lintian/Linda fixes.

  * Tweaked the drbd-0.6.10.orig.tar.gz to not have a debian/ directory in it.
  * Stopped tweaking the copyright notice on drbd_fs.c and drbd_receiver.c. 
    I'm not sure how that got there in the first place.
  * Removed mystery report_to_html.pl.debdiff file.  
  * Put the datadisk in the correct location.  (Closes: Bug#221544)
  
  * Removed drbd.postinst, drbd.postrm, and drbd.prerm as they are
    being generated by dh_installinit during the build process and do not
    need to part of the source package.
  * removed dependancy on automake and autoconf
  * Changed control.modules to require debhelper >= 4.
  * Stop settting $KSRC in the rules file.  

  * Removed conffiles, files, kernel-patch-wup.substvars as they are 
    unneccessary.
  * Tightened the build dependancy on debhelper. >=4
  * Updated Debian packages up to newest upstream version. (Closes: Bug#197906)
  * Updated Package descriptions.  (Closes: Bug#209462)
  * Verified support for devfs.  (Closes: Bug#203552)
  * I'd like to become a Debian Developer and take over maintenance for
    this package.  I'm working with Debian Devolpers on making this happen.
  
 -- David Krovich <dkrovich@csee.wvu.edu>  Tue, 20 Jan 2004 01:36:58 -0500

drbd (0.6.10-1) unstable; urgency=low

  * With 0.6.9 there was a bug introduced which prevented the sending 
    of ACK packets during resync. Fixed.
  * A fix to drbdsetup's wait_connect command.
  * Replaced all invocations of the sleep_on() family functions with the 
    invocations of the wait_event() macros. This removes lost wakup events 
    and race conditions.
  * New implementation of drbd_wait_ee(). This makes the 
    "(BUG?) Moving bh=%p to done_ee" go away.
  * Handle the case if vmalloc() of the bitmap fails.

 -- Philipp Reisner <phil@linbit.com>  Thu, 12 Dec 2003 15:10:44 +0200

drbd (0.6.9-1) unstable; urgency=low

  * New module build system (using kernel source tree build system)
  * New net section option 'ko-count'. It allows you to kick out a 
    secondary node which does no longer process data in acceptable time. 
    Its default value is 0 which disables this feature.
  * Changing syncgroups while resync runs has shows now the correct behaviour.
  * In case thread creations fails DRBD would deadlock on its own
    semaphore. Fixed now.
  * BKL is no longer used on Linux-2.4.x.
  * Now you can stack mapping block devices like LVM2 (and maybe md) on 
    top of drbd (a one character fix).
  * drbdsetup wait_connect on a StandAlone node looked like a timeout and
    forced primary. fixed.
  * if drbdsetup wait_* in fact did timeout this looked like a failed ioctl.
    this bug was newly introduced in 0.6.8. fixed.
  * A fix to a race in _drbd_alloc_ee(). You could trigger this race if
    your filesystem uses a blocksize < 4K and your machine has multiple CPUs.
    By Eric W. Biederman.
  * A maybe bugfix regarding calls to free_page() by Eric W. Biederman.
  * A cleanup patch to drbd_process_done_ee() by Eric W. Biederman.
	
 -- Philipp Reisner <phil@linbit.com>  Thu, 27 Nov 2003 08:21:34 +0200

drbd (0.6.8-1) unstable; urgency=low

  * Two fixes to the sync-group functionality.

 -- Philipp Reisner <phil@linbit.com>  Mon, 20 Oct 2003 11:45:33 +0200

drbd (0.6.7-1) unstable; urgency=low

  * A fix to a bug that could cause data corruption if you use a 
    other blocksize than 4k to access the DRBD device.
  * A fix to a SMP race in the syncer code. The problem was tirggered
    when using DRBD on QLogic fiber channel adapters.
  * Replaced various calls to sleep_on() variants with the wait_event()
    macros. -- This removes potential (, non-critical) SMP races.
  * This release includes the sync-group option.

 -- Philipp Reisner <phil@linbit.com>  Thu, Oct 13 2003 11:17:27 +0200

drbd (0.6.6-1) unstable; urgency=low

  * In the 0.6.5 release the secondary_remote command was badly broken,
    it succeeded when it should fail silently. This is fixed now.
  * Probabely in all previous releases, the resyncer thread did not
    exit properly if the secondary node goes away during resync. 
    This was not fatal sind the resyncher thread did exit at soon
    as it gets a network error. This is fixed now.
  * Some new switches to the drbd script.

 -- Philipp Reisner <phil@linbit.com>  Mon, 28 Jul 2003 14:40:43 +0200

drbd (0.6.5-1) unstable; urgency=low

  * Improvements to the build system
  * Now it is possible to tune the socket send buffer size via drbdsetup/
    drbd.conf. This is especially usefull for WAN mirroring / using
    protocol A.
  * Compatibility code to compile DRBD under RedHat 9.0 (RH's version of
    Linux-2.4.20)
  * Improved sample drbd.conf file

 -- Philipp Reisner <phil@linbit.com>  Sun, 06 Jul 2003 13:35:00 +0100
	
drbd (0.6.4-1) unstable; urgency=low

  * Reworked build system (i.e. better Makefiles)
  * SyncAll works forward instead of backwards. Improves performance on
    some storage controlers.
  * Reworked /etc/init.d/drbd script (i.e. better support of
    different bash releases)

 -- Philipp Reisner <phil@linbit.com>  Thu, 01 May 2003 21:00:00 +0100

drbd (0.6.3-1) unstable; urgency=low

  * Lockup of primary if secondary fails during resync. Fixed. (Stupid!)
  * Probabely SMP only deadlock in the drop-conection code path.
  * Improved connect code. (The old code could trap into a distributed
    deadlock, resulting in an endless connect/disconnect loop.)
  * The 'BitMap too small bug' was actually caused by a patch in
    SuSE's distribution kernel. This patch makes DRBD 'more' compatible
    with SuSE's kernel.
  * Improved code to allocate buffers for the rsynchronisation process.
    The old code allocated physical adjacent pages although the syncer
    does not need them! The old code could fail under high memory pressure.

 -- Philipp Reisner <phil@linbit.com>  Thu, 20 Mar 2003 20:23:40 +0100

drbd (0.6.2-1) unstable; urgency=low

  * SMP fix in drbd_dio_end_sec()
  * /etc/init.d/drbd knows about returncodes of fsck
  * SUSE style rcdrbd
  * Fixes for uninstall Target of the Makefiles.

 -- Philipp Reisner <phil@linbit.com>  Tue, 11 Feb 2003 15:58:49 +0100

drbd (0.6.1-1) unstable; urgency=low

  * Stable release

 -- Philipp Reisner <phil@linbit.com>  Mon, 25 Nov 2002 14:51:39 +0100

drbd (0.6-1.pre16-0cvs20020909.1) unstable; urgency=low

  * changed the maintainer to jan@debian.org in agreement with
    Ard who currently doesn't work on drbd.
  * changed name of generated drbd-module-... package to include
    the full version number of the kernel package
  * place generated drbd-module-... package in $(KSRC)/..

 -- Jan Niehusmann <jan@debian.org>  Fri, 13 Sep 2002 15:57:01 +0200

drbd (0.6-1.pre16-0cvs20020909) unstable; urgency=low

  * updated version
  * strange version number because debian versioning doesn't handle
    -pre versions sanely
  * uploading to unstable. (Closes: Bug#130031)

 -- Jan Niehusmann <jan@debian.org>  Wed, 11 Sep 2002 13:10:03 +0200 

drbd (cvs20010511-1) unstable; urgency=low

  * First deb-anized version

 -- Ard van Breemen <ard@telegraafnet.nl>  Fri, 11 May 2001 11:59:53 +0200
